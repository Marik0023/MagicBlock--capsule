:root{
  --bg:#07090d;
  --panel:rgba(17,20,28,.82);
  --panel-2:rgba(255,255,255,.04);
  --stroke:rgba(255,255,255,.10);
  --text:#eef3ff;
  --muted:rgba(238,243,255,.66);
  --accent:#5ac7ff;
  --accent2:#7b8dff;
  --danger:#ff6f6f;
  --ok:#66e0a3;
  --shadow:0 20px 80px rgba(0,0,0,.45);
  --radius-xl:24px;
  --radius-lg:18px;
  --radius-md:14px;
}
*{box-sizing:border-box}
html,body{height:100%}
body{
  margin:0;
  font-family:Inter,system-ui,sans-serif;
  color:var(--text);
  background:
    radial-gradient(900px 500px at 15% 10%, rgba(90,199,255,.14), transparent 60%),
    radial-gradient(800px 500px at 90% 20%, rgba(123,141,255,.12), transparent 60%),
    #07090d;
}
.hidden{display:none!important}
#app{height:100dvh;min-height:100%;display:flex;flex-direction:column;overflow:hidden}
.topbar{
  height:56px;display:flex;align-items:center;justify-content:space-between;
  padding:0 14px;border-bottom:1px solid var(--stroke);background:rgba(7,9,13,.55);backdrop-filter: blur(10px);
  position:sticky;top:0;z-index:5;
}
.brand{font-weight:800;letter-spacing:.08em;font-size:12px;color:#d9e8ff}
.profile-mini{display:flex;align-items:center;gap:10px;background:var(--panel-2);border:1px solid var(--stroke);padding:6px 10px;border-radius:999px}
.profile-mini img{width:28px;height:28px;border-radius:999px;object-fit:cover;border:1px solid var(--stroke)}
.profile-mini span{font-weight:600;font-size:13px}
.layout{
  display:grid;grid-template-columns:minmax(320px,1fr) 400px;gap:12px;padding:10px;min-height:0;height:calc(100dvh - 56px);
}
.viewer-panel,.side-panel{min-height:0}
.viewer-panel{
  position:relative;border:1px solid var(--stroke);border-radius:var(--radius-xl);overflow:hidden;background:linear-gradient(180deg, rgba(255,255,255,.02), rgba(255,255,255,.01));
  box-shadow:var(--shadow);
}
#viewer{width:100%;height:100%;min-height:0;position:relative;overflow:hidden}
#viewer canvas{display:block;width:100%!important;height:100%!important}
.viewer-overlay{
  position:absolute;inset:0;display:grid;place-content:center;gap:8px;text-align:center;
  background:radial-gradient(circle at center, rgba(7,9,13,.35), rgba(7,9,13,.72));pointer-events:none;
}
.seal-badge{
  justify-self:center;padding:10px 18px;border-radius:999px;border:1px solid rgba(102,224,163,.35);
  background:rgba(102,224,163,.12);color:#8bf0bf;font-weight:800;letter-spacing:.18em;font-size:12px;
}
.viewer-overlay p{margin:0;color:var(--muted)}
.side-panel{display:flex;flex-direction:column;gap:12px;min-height:0}
.card{background:var(--panel);border:1px solid var(--stroke);border-radius:20px;padding:13px;box-shadow:var(--shadow)}
.card h2,.card h3{margin:0 0 8px}
.card h2{font-size:20px;line-height:1.15}
.card.compact h3{font-size:15px}
.field{display:grid;gap:6px}
.field > span{font-size:12px;color:#d8e4ff;font-weight:600}
.field b{color:var(--danger)}
input[type="text"], textarea, input[type="file"]{
  width:100%;background:rgba(255,255,255,.03);border:1px solid var(--stroke);color:var(--text);
  border-radius:12px;padding:12px 13px;font:inherit;outline:none;
}
input[type="text"]:focus, textarea:focus, input[type="file"]:focus{border-color:rgba(90,199,255,.5); box-shadow:0 0 0 3px rgba(90,199,255,.12)}
textarea{resize:none;min-height:110px}
small,.muted{color:var(--muted);font-size:12px}
.char-row{display:flex;justify-content:space-between;color:var(--muted);font-size:12px;line-height:1.1}
.until-box{
  margin-top:8px;border:1px solid var(--stroke);background:rgba(255,255,255,.02);border-radius:14px;padding:11px;
}
.until-title{font-size:12px;color:var(--muted);letter-spacing:.08em;text-transform:uppercase}
.until-value{font-size:22px;font-weight:800;letter-spacing:.08em;margin-top:2px;background:linear-gradient(90deg,var(--accent),#b1beff);-webkit-background-clip:text;background-clip:text;color:transparent}
.until-note{font-size:12px;color:var(--muted)}
.actions{display:flex;gap:8px;margin-top:10px;flex-wrap:wrap}
.btn{
  border:none;border-radius:12px;padding:10px 14px;font-weight:700;cursor:pointer;font:inherit;
  transition:transform .12s ease, opacity .12s ease, box-shadow .2s ease;
}
.btn:hover{transform:translateY(-1px)}
.btn:disabled{opacity:.45;cursor:not-allowed;transform:none}
.btn-primary{
  color:#071019;background:linear-gradient(135deg,var(--accent),#91d9ff 55%, #a6b1ff);
  box-shadow:0 8px 30px rgba(90,199,255,.25);
}
.btn-ghost{color:var(--text);background:rgba(255,255,255,.06);border:1px solid var(--stroke)}
.status-list{list-style:none;margin:0;padding:0;display:grid;gap:8px}
.status-list li{display:flex;justify-content:space-between;gap:10px;background:rgba(255,255,255,.02);border:1px solid var(--stroke);padding:8px 10px;border-radius:12px}
.status-list span{color:var(--muted)}
.status-list b{font-size:13px}
.modal{
  position:fixed;inset:0;background:rgba(4,5,8,.74);display:none;place-items:center;padding:16px;z-index:20;backdrop-filter: blur(8px);
}
.modal.is-open{display:grid}
.modal-card{
  width:min(560px,100%);background:rgba(13,16,22,.96);border:1px solid var(--stroke);border-radius:24px;padding:18px;box-shadow:var(--shadow)
}
.modal-card h1{margin:2px 0 6px;font-size:24px}
.form-grid{display:grid;gap:12px;margin-top:12px}
.avatar-preview-wrap{display:flex;justify-content:center}
.avatar-preview{
  width:120px;height:120px;border-radius:20px;border:1px dashed rgba(255,255,255,.18);
  display:grid;place-items:center;color:var(--muted);background:rgba(255,255,255,.02);overflow:hidden;
}
.avatar-preview img{width:100%;height:100%;object-fit:cover}
.modal-card .btn{width:100%}
@media (max-width: 980px){
  .layout{grid-template-columns:1fr;}
  #viewer{min-height:420px}
}


@media (min-width: 981px){
  body{overflow:hidden;}
  .brand{font-size:11px;}
  .profile-mini{padding:5px 9px;}
  .profile-mini img{width:26px;height:26px;}
  .side-panel{overflow:auto; padding-right:2px;}
}
@media (min-width: 981px) and (max-height: 900px){
  .layout{grid-template-columns:minmax(300px,1fr) 380px; padding:8px; gap:10px;}
  .card{padding:12px;}
  .card h2{font-size:18px;}
  textarea{min-height:96px;}
  .until-value{font-size:18px;}
  .until-note,.until-title,.char-row,.field > span,small,.muted{font-size:11px;}
  .status-list li{padding:7px 9px;}
  .btn{padding:9px 12px;}
}
