:root{
  --bg:#05060b;
  --bg2:#090b14;
  --panel:rgba(12,14,24,.76);
  --panel-strong:rgba(16,19,30,.9);
  --panel-2:rgba(255,255,255,.03);
  --stroke:rgba(140,190,255,.16);
  --stroke-strong:rgba(121,230,255,.3);
  --text:#eef5ff;
  --muted:rgba(225,236,255,.66);
  --muted-2:rgba(225,236,255,.48);
  --accent:#59f0ff;
  --accent2:#9d72ff;
  --accent3:#ff4fd8;
  --danger:#ff6f9c;
  --ok:#62f6b1;
  --shadow:0 24px 80px rgba(0,0,0,.5);
  --glow-cyan:0 0 0 1px rgba(89,240,255,.20), 0 0 24px rgba(89,240,255,.16);
  --glow-magenta:0 0 0 1px rgba(255,79,216,.18), 0 0 24px rgba(255,79,216,.14);
  --radius-xl:24px;
  --radius-lg:18px;
  --radius-md:14px;
}

*{box-sizing:border-box}
html,body{height:100%}
body{
  margin:0;
  font-family:Inter,system-ui,sans-serif;
  color:var(--text);
  background:
    radial-gradient(1000px 600px at 12% 8%, rgba(89,240,255,.10), transparent 60%),
    radial-gradient(900px 620px at 88% 14%, rgba(157,114,255,.12), transparent 62%),
    radial-gradient(800px 520px at 50% 120%, rgba(255,79,216,.10), transparent 65%),
    linear-gradient(180deg, #06070d 0%, #04050a 100%);
  position:relative;
}
body::before,
body::after{
  content:"";
  position:fixed;
  inset:0;
  pointer-events:none;
  z-index:0;
}
body::before{
  background-image:
    linear-gradient(rgba(110,150,255,.055) 1px, transparent 1px),
    linear-gradient(90deg, rgba(110,150,255,.055) 1px, transparent 1px);
  background-size:36px 36px;
  opacity:.34;
  mask-image:radial-gradient(circle at 50% 45%, #000 35%, transparent 95%);
}
body::after{
  background:
    repeating-linear-gradient(
      to bottom,
      rgba(255,255,255,.015) 0px,
      rgba(255,255,255,.015) 1px,
      transparent 2px,
      transparent 4px
    );
  opacity:.28;
}

.hidden{display:none!important}
#app{
  position:relative;
  z-index:1;
  height:100dvh;min-height:100%;display:flex;flex-direction:column;overflow:hidden;
}

.topbar{
  height:62px;
  display:flex;align-items:center;justify-content:space-between;
  padding:0 14px;
  border-bottom:1px solid rgba(121,230,255,.14);
  background:linear-gradient(180deg, rgba(6,8,14,.82), rgba(6,8,14,.54));
  backdrop-filter: blur(12px) saturate(130%);
  position:sticky;top:0;z-index:5;min-width:0;
  box-shadow:0 10px 30px rgba(0,0,0,.18);
}
.topbar::after{
  content:"";
  position:absolute;left:0;right:0;bottom:-1px;height:1px;
  background:linear-gradient(90deg, transparent, rgba(89,240,255,.6), rgba(255,79,216,.45), transparent);
}
.brand{
  font-weight:800;
  letter-spacing:.13em;
  font-size:11px;
  color:#e6f4ff;
  text-transform:uppercase;
  padding:8px 10px;
  border:1px solid rgba(121,230,255,.18);
  border-radius:999px;
  background:linear-gradient(135deg, rgba(89,240,255,.08), rgba(157,114,255,.08));
  box-shadow: inset 0 0 0 1px rgba(255,255,255,.02), 0 0 18px rgba(89,240,255,.08);
}
.brand.brand-logo{
  padding:0;
  border:none;
  border-radius:0;
  background:transparent;
  box-shadow:none;
  line-height:0;
  display:flex;
  align-items:center;
  max-width:min(46vw, 340px);
}
.brand.brand-logo img{
  display:block;
  width:auto;
  max-width:100%;
  max-height:44px;
  filter: drop-shadow(0 0 10px rgba(89,240,255,.22)) drop-shadow(0 0 18px rgba(89,240,255,.12));
}
.profile-mini{
  display:flex;align-items:center;gap:10px;
  background:linear-gradient(135deg, rgba(255,255,255,.04), rgba(255,255,255,.02));
  border:1px solid rgba(121,230,255,.16);
  padding:6px 10px;border-radius:999px;
  max-width:min(42vw,260px);min-width:0;
  box-shadow:0 0 0 1px rgba(255,79,216,.06), 0 0 24px rgba(89,240,255,.06);
}
.profile-mini img{
  width:28px;height:28px;border-radius:999px;object-fit:cover;
  border:1px solid rgba(121,230,255,.34);
  box-shadow:0 0 16px rgba(89,240,255,.18);
}
.profile-mini span{font-weight:600;font-size:13px;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}

.layout{
  display:grid;
  align-items:stretch;
  grid-template-columns:minmax(0,1fr) clamp(460px, 33vw, 620px);
  gap:12px;
  padding:10px;
  min-height:0;
  height:calc(100dvh - 62px);
  width:100%;max-width:100%;
}
.viewer-panel,.side-panel{min-height:0;min-width:0}

.viewer-panel{
  position:relative;
  border:1px solid rgba(121,230,255,.18);
  border-radius:var(--radius-xl);
  overflow:hidden;
  background:
    radial-gradient(600px 340px at 14% 12%, rgba(89,240,255,.08), transparent 62%),
    radial-gradient(580px 340px at 88% 18%, rgba(157,114,255,.08), transparent 65%),
    linear-gradient(180deg, rgba(255,255,255,.02), rgba(255,255,255,.005));
  box-shadow:var(--shadow), inset 0 0 0 1px rgba(255,255,255,.02);
}
.viewer-panel::before,
.viewer-panel::after{
  content:"";
  position:absolute;
  pointer-events:none;
  z-index:1;
}
.viewer-panel::before{
  inset:10px;
  border-radius:18px;
  border:1px solid rgba(255,255,255,.03);
}
.viewer-panel::after{
  top:0;left:0;right:0;height:46px;
  background:linear-gradient(180deg, rgba(89,240,255,.08), transparent);
  opacity:.75;
}
#viewer{width:100%;height:100%;min-height:0;position:relative;overflow:hidden}
#viewer::after{
  content:"";
  position:absolute;inset:0;
  pointer-events:none;
  background:
    radial-gradient(500px 260px at 50% 18%, rgba(255,255,255,.05), transparent 60%),
    radial-gradient(700px 280px at 50% 104%, rgba(89,240,255,.03), transparent 70%);
}
#viewer canvas{display:block;width:100%!important;height:100%!important}

.viewer-overlay{
  position:absolute;inset:0;display:grid;place-content:center;gap:8px;text-align:center;
  background:radial-gradient(circle at center, rgba(5,7,12,.22), rgba(5,7,12,.80));
  pointer-events:none;
  z-index:2;
}
.viewer-overlay.is-blocking{pointer-events:auto}
.viewer-overlay-card{
  display:grid;
  justify-items:center;
  gap:10px;
  padding:16px 18px;
  border-radius:16px;
  border:1px solid rgba(121,230,255,.16);
  background:linear-gradient(180deg, rgba(12,15,24,.78), rgba(10,12,20,.64));
  box-shadow:0 12px 30px rgba(0,0,0,.25);
}
.seal-badge{
  justify-self:center;
  padding:10px 18px;
  border-radius:999px;
  border:1px solid rgba(98,246,177,.35);
  background:linear-gradient(135deg, rgba(98,246,177,.12), rgba(89,240,255,.1));
  color:#8cf7c4;
  font-weight:800;letter-spacing:.2em;font-size:12px;
  box-shadow:0 0 24px rgba(98,246,177,.16);
}
.viewer-overlay p{margin:0;color:var(--muted)}
.overlay-ok-btn{min-width:120px;font-weight:800;padding:10px 20px}

.side-panel{
  display:flex;
  flex-direction:column;
  gap:12px;
  min-height:0;
  height:100%;
  width:100%;
  padding:10px;
  border:1px solid rgba(121,230,255,.16);
  border-radius:var(--radius-xl);
  background:
    radial-gradient(520px 260px at 14% 12%, rgba(89,240,255,.055), transparent 62%),
    radial-gradient(520px 260px at 86% 14%, rgba(157,114,255,.07), transparent 65%),
    linear-gradient(180deg, rgba(255,255,255,.015), rgba(255,255,255,.006));
  box-shadow:var(--shadow), inset 0 0 0 1px rgba(255,255,255,.018);
  overflow:auto;
}
.side-panel > .card:first-child{flex:1;display:flex;flex-direction:column;min-height:0}
.side-panel > .card:first-child .field{flex:1;min-height:0;display:grid;grid-template-rows:auto auto 1fr auto}
.side-panel > .card:first-child textarea{min-height:200px;height:100%}
.side-panel > .card:first-child .actions{margin-top:12px}
.side-panel > .card.compact{margin-top:auto}
.card{
  position:relative;
  background:linear-gradient(180deg, rgba(14,17,28,.86), rgba(10,12,20,.80));
  border:1px solid rgba(121,230,255,.14);
  border-radius:20px;
  padding:13px;
  box-shadow:var(--shadow);
  min-width:0;
  overflow:hidden;
}
.card::before{
  content:"";
  position:absolute;
  inset:0;
  background:linear-gradient(135deg, rgba(89,240,255,.035), transparent 42%, rgba(255,79,216,.035));
  pointer-events:none;
}
.card::after{
  content:"";
  position:absolute;
  top:0;left:16px;right:16px;height:1px;
  background:linear-gradient(90deg, transparent, rgba(89,240,255,.45), rgba(255,79,216,.3), transparent);
  pointer-events:none;
}
.card > *{position:relative;z-index:1}
.card h2,.card h3{
  margin:0 0 8px;
  letter-spacing:.02em;
}
.card h2{
  font-size:20px;line-height:1.15;
  background:linear-gradient(90deg,#f5fbff,#9aefff 35%,#d0bbff 72%,#ffd2f4);
  -webkit-background-clip:text;background-clip:text;color:transparent;
}
.card.compact h3{font-size:14px;color:#d9e7ff;text-transform:uppercase;letter-spacing:.12em}

.field{display:grid;gap:6px}
.field > span{font-size:12px;color:#d8e6ff;font-weight:600;letter-spacing:.02em}
.field b{color:var(--danger)}
input[type="text"], textarea, input[type="file"]{
  width:100%;
  background:linear-gradient(180deg, rgba(255,255,255,.025), rgba(255,255,255,.015));
  border:1px solid rgba(121,230,255,.12);
  color:var(--text);
  border-radius:12px;
  padding:12px 13px;
  font:inherit;
  outline:none;
  box-shadow: inset 0 0 0 1px rgba(255,255,255,.01);
}
input[type="text"]::placeholder, textarea::placeholder{color:rgba(230,239,255,.34)}
input[type="text"]:focus, textarea:focus, input[type="file"]:focus{
  border-color:rgba(89,240,255,.46);
  box-shadow:0 0 0 3px rgba(89,240,255,.10), 0 0 18px rgba(89,240,255,.08), inset 0 0 0 1px rgba(89,240,255,.08);
}
input[type="file"]{
  color:var(--muted);
  padding:10px 12px;
}
textarea{resize:none;min-height:110px;line-height:1.45}

.sr-only-file{
  position:absolute!important;
  width:1px!important;height:1px!important;
  padding:0!important;margin:-1px!important;
  overflow:hidden!important;clip:rect(0 0 0 0)!important;
  white-space:nowrap!important;border:0!important;
}
.file-picker{
  display:flex;align-items:center;gap:10px;
  width:100%;
  background:linear-gradient(180deg, rgba(255,255,255,.025), rgba(255,255,255,.015));
  border:1px solid rgba(121,230,255,.12);
  color:var(--text);
  border-radius:12px;
  padding:10px 12px;
  min-height:56px;
  box-shadow: inset 0 0 0 1px rgba(255,255,255,.01);
  cursor:pointer;
}
.file-picker:hover{border-color:rgba(121,230,255,.24)}
.field:focus-within .file-picker{
  border-color:rgba(89,240,255,.46);
  box-shadow:0 0 0 3px rgba(89,240,255,.10), 0 0 18px rgba(89,240,255,.08), inset 0 0 0 1px rgba(89,240,255,.08);
}
.file-picker-btn{
  display:inline-flex;align-items:center;justify-content:center;
  border-radius:10px;
  padding:8px 14px;
  min-width:128px;
  color:#061018;
  font-weight:800;
  background:linear-gradient(135deg, #59f0ff, #93e7ff 45%, #b39eff);
  box-shadow:0 6px 18px rgba(89,240,255,.15);
  white-space:nowrap;
}
.file-picker-name{
  color:var(--muted);
  white-space:nowrap;overflow:hidden;text-overflow:ellipsis;
  min-width:0;
}
small,.muted{color:var(--muted);font-size:12px}
.char-row{
  display:flex;justify-content:space-between;gap:8px;
  color:var(--muted);font-size:12px;line-height:1.1;
}

.until-box{
  margin-top:8px;
  border:1px solid rgba(121,230,255,.14);
  background:
    linear-gradient(180deg, rgba(255,255,255,.015), rgba(255,255,255,.01));
  border-radius:14px;
  padding:11px;
  position:relative;
  overflow:hidden;
}
.until-box::before{
  content:"";
  position:absolute;inset:-1px;
  background:linear-gradient(135deg, rgba(89,240,255,.08), transparent 45%, rgba(255,79,216,.08));
  mask: linear-gradient(#000 0 0) content-box, linear-gradient(#000 0 0);
  mask-composite: exclude;
  -webkit-mask: linear-gradient(#000 0 0) content-box, linear-gradient(#000 0 0);
  -webkit-mask-composite: xor;
  padding:1px;
  pointer-events:none;
}
.until-title{font-size:11px;color:var(--muted);letter-spacing:.14em;text-transform:uppercase}
.until-value{
  font-size:23px;font-weight:800;letter-spacing:.12em;margin-top:2px;
  background:linear-gradient(90deg, var(--accent), #a7edff 30%, #c39cff 62%, #ffb1ef);
  -webkit-background-clip:text;background-clip:text;color:transparent;
  text-shadow:0 0 22px rgba(89,240,255,.12);
}
.until-note{font-size:12px;color:var(--muted)}

.actions{display:flex;gap:8px;margin-top:10px;flex-wrap:wrap}
.btn{
  border:none;
  border-radius:12px;
  padding:10px 14px;
  font-weight:800;
  cursor:pointer;
  font:inherit;
  letter-spacing:.02em;
  transition:transform .12s ease, opacity .12s ease, box-shadow .22s ease, border-color .2s ease;
  position:relative;
  overflow:hidden;
}
.btn::after{
  content:"";
  position:absolute; inset:0;
  background:linear-gradient(120deg, transparent 20%, rgba(255,255,255,.18) 45%, transparent 70%);
  transform:translateX(-120%);
  transition:transform .5s ease;
}
.btn:hover::after{transform:translateX(120%)}
.btn:hover{transform:translateY(-1px)}
.btn:disabled{opacity:.45;cursor:not-allowed;transform:none}
.btn-primary{
  font-weight:800;
  color:#041017;
  background:linear-gradient(135deg, #59f0ff 0%, #8fe5ff 34%, #a78dff 68%, #ff7ce9 100%);
  box-shadow:0 8px 26px rgba(89,240,255,.18), 0 8px 30px rgba(157,114,255,.12);
}
.btn-primary:not(:disabled){
  border:1px solid rgba(255,255,255,.18);
}
.btn-ghost{
  color:var(--text);
  background:rgba(255,255,255,.03);
  border:1px solid rgba(121,230,255,.14);
  box-shadow: inset 0 0 0 1px rgba(255,255,255,.01);
}
.btn-ghost:hover{border-color:rgba(121,230,255,.28); box-shadow:var(--glow-cyan)}

.status-list{list-style:none;margin:0;padding:0;display:grid;gap:8px}
.status-list li{
  display:flex;justify-content:space-between;gap:10px;
  background:linear-gradient(180deg, rgba(255,255,255,.02), rgba(255,255,255,.01));
  border:1px solid rgba(121,230,255,.10);
  padding:8px 10px;border-radius:12px;
  box-shadow: inset 0 1px 0 rgba(255,255,255,.01);
}
.status-list li:nth-child(odd){border-color:rgba(121,230,255,.12)}
.status-list li:nth-child(even){border-color:rgba(255,79,216,.09)}
.status-list span{color:var(--muted)}
.status-list b{font-size:13px;color:#eaf4ff}

.modal{
  position:fixed;inset:0;
  background:rgba(3,4,8,.76);
  display:none;place-items:center;padding:16px;
  z-index:20;
  backdrop-filter: blur(10px) saturate(120%);
}
.modal.is-open{display:grid}
.modal-card{
  width:min(580px,100%);
  background:
    radial-gradient(400px 140px at 15% 0%, rgba(89,240,255,.07), transparent 60%),
    radial-gradient(380px 160px at 95% 5%, rgba(255,79,216,.06), transparent 65%),
    rgba(11,13,21,.94);
  border:1px solid rgba(121,230,255,.16);
  border-radius:24px;
  padding:18px;
  box-shadow:var(--shadow), inset 0 0 0 1px rgba(255,255,255,.02);
  position:relative;
  overflow:hidden;
}
.modal-card::before{
  content:"";
  position:absolute; inset:0; pointer-events:none;
  background:linear-gradient(120deg, transparent 0%, rgba(89,240,255,.025) 35%, transparent 55%, rgba(255,79,216,.03) 100%);
}
.modal-card h1{
  margin:2px 0 6px;
  font-size:24px;
  line-height:1.1;
  background:linear-gradient(90deg,#f7fbff,#99f1ff 40%,#d1b9ff 70%);
  -webkit-background-clip:text;background-clip:text;color:transparent;
}
.form-grid{display:grid;gap:12px;margin-top:12px}
.avatar-preview-wrap{display:flex;justify-content:center}
.avatar-preview{
  width:124px;height:124px;border-radius:22px;
  border:1px dashed rgba(121,230,255,.26);
  display:grid;place-items:center;
  color:var(--muted);
  background:linear-gradient(180deg, rgba(255,255,255,.015), rgba(255,255,255,.008));
  overflow:hidden;
  box-shadow: inset 0 0 0 1px rgba(255,255,255,.01), 0 0 22px rgba(89,240,255,.05);
}
.avatar-preview img{width:100%;height:100%;object-fit:cover}
.modal-card .btn{width:100%}

/* nicer file input button where supported */
input[type="file"]::file-selector-button{
  border:none;
  margin-right:10px;
  padding:8px 12px;
  border-radius:10px;
  color:#061018;
  font-weight:700;
  background:linear-gradient(135deg, #59f0ff, #93e7ff 45%, #b39eff);
  cursor:pointer;
}
input[type="file"]::-webkit-file-upload-button{
  border:none;
  margin-right:10px;
  padding:8px 12px;
  border-radius:10px;
  color:#061018;
  font-weight:700;
  background:linear-gradient(135deg, #59f0ff, #93e7ff 45%, #b39eff);
  cursor:pointer;
}

/* subtle custom scrollbar */
*{
  scrollbar-width:thin;
  scrollbar-color: rgba(121,230,255,.28) rgba(255,255,255,.03);
}
*::-webkit-scrollbar{width:10px;height:10px}
*::-webkit-scrollbar-track{background:rgba(255,255,255,.03);border-radius:999px}
*::-webkit-scrollbar-thumb{background:linear-gradient(180deg, rgba(89,240,255,.35), rgba(157,114,255,.35));border-radius:999px;border:2px solid rgba(0,0,0,.0)}

@media (max-width: 980px){
  .layout{grid-template-columns:1fr; height:auto; min-height:calc(100dvh - 62px)}
  #viewer{min-height:420px}
  .side-panel{padding-bottom:8px}
}

@media (min-width: 981px){
  body{overflow:hidden;}
  .brand{font-size:10px; padding:7px 10px;}
  .brand.brand-logo{padding:0;}
  .brand.brand-logo img{max-height:42px;}
  .profile-mini{padding:5px 9px;}
  .profile-mini img{width:26px;height:26px;}
  .side-panel{overflow:auto; padding:10px;}
}

@media (min-width: 981px) and (max-height: 900px){
  .layout{grid-template-columns:minmax(0,1fr) clamp(430px,34vw,580px); padding:8px; gap:10px;}
  .card{padding:12px;}
  .card h2{font-size:18px;}
  textarea{min-height:96px;}
  .until-value{font-size:18px;}
  .until-note,.until-title,.char-row,.field > span,small,.muted{font-size:11px;}
  .status-list li{padding:7px 9px;}
  .btn{padding:9px 12px;}
}


@media (min-width: 1280px){
  .layout{grid-template-columns:minmax(0,1fr) clamp(500px,34vw,660px);}
}

@media (max-width: 980px){
  .topbar{height:60px;}
  .brand.brand-logo{max-width:min(62vw, 290px);}
  .brand.brand-logo img{max-height:34px;}
}
